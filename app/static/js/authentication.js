(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["authentication"],{

/***/ "../../src/mvfx_frontend/public/authentication/auth_section_toggle.js":
/*!********************************************************************************!*\
  !*** /opt/mvfx/src/mvfx_frontend/public/authentication/auth_section_toggle.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.authSectionToggleInit = authSectionToggleInit;\nexports.closeAuthSection = closeAuthSection;\nexports.openAuthSection = openAuthSection;\n\nvar _jquery = __webpack_require__(/*! jquery */ \"../../../../node_modules/jquery/dist/jquery.js-exposed\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _body_scroll_toggler = __webpack_require__(/*! ../shared/body_scroll_toggler/body_scroll_toggler */ \"../../src/mvfx_frontend/public/shared/body_scroll_toggler/body_scroll_toggler.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Shows/hides the auth section by toggling expand-auth-section class.\n */\n\n(0, _jquery2.default)(document).ready(function () {\n    authSectionToggleInit();\n});\n\nvar $authSectionEl = void 0;\n\nfunction authSectionToggleInit() {\n    var $authBackground = (0, _jquery2.default)('.auth-background');\n    $authSectionEl = (0, _jquery2.default)('#authSection');\n\n    // Show/Hide auth section.\n    (0, _jquery2.default)('[data-auth-section-toggle]').on('click', function (e) {\n        $authSectionEl.toggleClass('expand-auth-section');\n    });\n\n    // Dismiss auth section on grey area click.\n    $authBackground.on('click', function (e) {\n        $authSectionEl.removeClass('expand-auth-section');\n    });\n\n    // Dismiss auth section on X button click.\n    $authSectionEl.find('.dismiss-btn').on('click', function () {\n        $authSectionEl.removeClass('expand-auth-section');\n    });\n\n    // Allows for closing animations, because setting height 0 in css will prevent collapse animations (that use performant scaleY) to be run.\n    // Waits for scaleY animations to finish before setting the auth section height.\n    $authSectionEl.on('transitionend', function (e) {\n        if (e.originalEvent.propertyName !== \"transform\") {\n            return;\n        } // There are many transitions on the auth section, limit to only opening and closing tranformations.\n\n        if (!$authSectionEl.hasClass('expand-auth-section')) {\n            (0, _body_scroll_toggler.enableBodyScroll)(); // Enable background scrolling on touch devices.\n            $authSectionEl.add($authBackground).css('height', '');\n        } else {\n            (0, _body_scroll_toggler.disableBodyScroll)(); // Disable background scrolling on touch devices.\n            $authSectionEl.add($authBackground).css('height', '100%');\n        }\n    });\n}\n\nfunction closeAuthSection() {\n    $authSectionEl.removeClass('expand-auth-section');\n}\n\nfunction openAuthSection() {\n    $authSectionEl.addClass('expand-auth-section');\n}\n\n//# sourceURL=webpack:////opt/mvfx/src/mvfx_frontend/public/authentication/auth_section_toggle.js?");

/***/ }),

/***/ "../../src/mvfx_frontend/public/authentication/auth_sections_switch.js":
/*!*********************************************************************************!*\
  !*** /opt/mvfx/src/mvfx_frontend/public/authentication/auth_sections_switch.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.setCurrentSection = setCurrentSection;\n\nvar _jquery = __webpack_require__(/*! jquery */ \"../../../../node_modules/jquery/dist/jquery.js-exposed\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * NAVBAR AUTHENICATION SECTIONS SWITCH\n * ====================================\n * Manages displaying and hiding authentication section blocks.\n * Works by adding/removing css class that hide the sections.\n * \n * @usage Add a new section to sections object, then add 'data-switch-to=\"nameOfTheSection\"' attribute to a DOM element. \n */\n\nvar hideClass = 'd-none';\nvar sections = {};\n\n(0, _jquery2.default)(document).ready(function () {\n\n    // List of sections to switch between.\n    sections = {\n        activationEmailSent: (0, _jquery2.default)('#activationEmailSentSection'),\n        login: (0, _jquery2.default)('#loginSection'),\n        passwordRecovery: (0, _jquery2.default)('#passwordRecoverySection'),\n        recoveryEmailSent: (0, _jquery2.default)('#recoveryEmailSentSection'),\n        signUp: (0, _jquery2.default)('#signupSection')\n    };\n\n    // Listen to click events and switch to section with name passed through data-switch-to attribute.\n    (0, _jquery2.default)('[data-switch-to]').on('click', function (e) {\n        setCurrentSection(e.currentTarget.dataset.switchTo);\n    });\n\n    setCurrentSection('login'); // Set initial authentication section.\n});\n\n/**\n * Switches to the selected section.\n * @param {string} activeSection Name of the section to switch to.\n */\nfunction setCurrentSection(activeSection) {\n\n    // Loop over the sections and show only the active one.\n    _jquery2.default.each(sections, function (sectionName, $section) {\n        if (activeSection === sectionName) {\n            $section.removeClass(hideClass);\n        } else {\n            $section.addClass(hideClass);\n        }\n    });\n}\n\n//# sourceURL=webpack:////opt/mvfx/src/mvfx_frontend/public/authentication/auth_sections_switch.js?");

/***/ }),

/***/ "../../src/mvfx_frontend/public/authentication/auto_auth_section_open.js":
/*!***********************************************************************************!*\
  !*** /opt/mvfx/src/mvfx_frontend/public/authentication/auto_auth_section_open.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.autoOpenInit = autoOpenInit;\n\nvar _jquery = __webpack_require__(/*! jquery */ \"../../../../node_modules/jquery/dist/jquery.js-exposed\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _urijs = __webpack_require__(/*! urijs */ \"../../../../node_modules/urijs/src/URI.js\");\n\nvar _urijs2 = _interopRequireDefault(_urijs);\n\nvar _auth_sections_switch = __webpack_require__(/*! ./auth_sections_switch */ \"../../src/mvfx_frontend/public/authentication/auth_sections_switch.js\");\n\nvar _auth_section_toggle = __webpack_require__(/*! ./auth_section_toggle */ \"../../src/mvfx_frontend/public/authentication/auth_section_toggle.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** \n * AUTO AUTH SECTION OPEN\n * ======================\n * On page load opens login, register forgot password forms when auto_open GET param is present in the url.\n */\n\n/* istanbul ignore next */\n(0, _jquery2.default)(document).ready(function () {\n    autoOpenInit();\n});\n\nfunction autoOpenInit() {\n    var sectionToOpen = new _urijs2.default(window.location.href).search(true).auto_open;\n\n    // Map auto_open values to auth sections` names.\n    var authSectionsMap = {\n        account: 'login',\n        forgot: 'passwordRecovery',\n        register: 'signUp'\n    };\n\n    if (authSectionsMap[sectionToOpen]) {\n        (0, _auth_sections_switch.setCurrentSection)(authSectionsMap[sectionToOpen]);\n        (0, _auth_section_toggle.openAuthSection)();\n    }\n}\n\n//# sourceURL=webpack:////opt/mvfx/src/mvfx_frontend/public/authentication/auto_auth_section_open.js?");

/***/ }),

/***/ "../../src/mvfx_frontend/public/authentication/index.js":
/*!******************************************************************!*\
  !*** /opt/mvfx/src/mvfx_frontend/public/authentication/index.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../shared/ui_blocker/ui_blocker */ \"../../src/mvfx_frontend/public/shared/ui_blocker/ui_blocker.js\");\n\n__webpack_require__(/*! ./auth_section_toggle */ \"../../src/mvfx_frontend/public/authentication/auth_section_toggle.js\");\n\n__webpack_require__(/*! ./auth_sections_switch */ \"../../src/mvfx_frontend/public/authentication/auth_sections_switch.js\");\n\n__webpack_require__(/*! ./auto_auth_section_open */ \"../../src/mvfx_frontend/public/authentication/auto_auth_section_open.js\");\n\n__webpack_require__(/*! ./login_form */ \"../../src/mvfx_frontend/public/authentication/login_form.js\");\n\n__webpack_require__(/*! ./password_recovery_form */ \"../../src/mvfx_frontend/public/authentication/password_recovery_form.js\");\n\n__webpack_require__(/*! ./sign_up_form */ \"../../src/mvfx_frontend/public/authentication/sign_up_form.js\");\n\n//# sourceURL=webpack:////opt/mvfx/src/mvfx_frontend/public/authentication/index.js?");

/***/ }),

/***/ "../../src/mvfx_frontend/public/authentication/login_form.js":
/*!***********************************************************************!*\
  !*** /opt/mvfx/src/mvfx_frontend/public/authentication/login_form.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.loginFormInit = loginFormInit;\n\nvar _jquery = __webpack_require__(/*! jquery */ \"../../../../node_modules/jquery/dist/jquery.js-exposed\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _urijs = __webpack_require__(/*! urijs */ \"../../../../node_modules/urijs/src/URI.js\");\n\nvar _urijs2 = _interopRequireDefault(_urijs);\n\nvar _form_utils = __webpack_require__(/*! ../shared/form_utils/form_utils */ \"../../src/mvfx_frontend/public/shared/form_utils/form_utils.js\");\n\nvar _helper_utils = __webpack_require__(/*! ../../shared/helper_utils/helper_utils */ \"../../src/mvfx_frontend/shared/helper_utils/helper_utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * LOGIN FORM\n * ==========\n * Manages login form submit and validation errors.\n */\n\n/* istanbul ignore next */\n(0, _jquery2.default)(document).ready(function () {\n    loginFormInit();\n});\n\nvar $loginForm = void 0;\nvar authSectionBlocker = void 0;\n\nfunction loginFormInit() {\n    var passedLogin = new _urijs2.default(window.location.href).search(true).login; // Check if username was passed via GET params.\n\n    $loginForm = (0, _jquery2.default)('#loginForm');\n    authSectionBlocker = (0, _jquery2.default)('#authFormsContainer').data('motionvfx.uiBlocker');\n\n    $loginForm.on('submit', function (event) {\n        event.preventDefault();\n\n        if ((0, _jquery2.default)('#authFormsContainer').hasClass('ui-blocker-active')) {\n            return;\n        }\n\n        // Workaround for situations where account was activated in a new tab and user tries to log in in the old tab.\n        // In this case the csrf token in html input is out of date, and system throws incorrect csrftoken error.\n        (0, _jquery2.default)(event.target).find('[name=\"csrfmiddlewaretoken\"]').val((0, _helper_utils.getCookie)('csrftoken'));\n\n        submitForm((0, _jquery2.default)(event.target).serializeArray()); // Get form data.        \n    });\n\n    // Set login input value if it was passed via GET params.\n    if (passedLogin) {\n        $loginForm.find('[name=\"login_username\"]').val(passedLogin);\n    }\n}\n\n//////////////// Private Functions ///////////////////////\n\n/**\n * POST form data to API.\n * @param {array} formData List of form fields.\n */\nfunction submitForm(formData) {\n\n    authSectionBlocker.start();\n\n    _jquery2.default.post($loginForm[0].action, formData).done(function (response) {\n        if (response.redirect_to) {\n            window.location.href = response.redirect_to; // User has been logged in, redirect to specyfied by API path.\n        } else {\n            window.location.reload();\n        }\n    }).fail(function (errorResponse) {\n        var errors = errorResponse.responseJSON;\n\n        (0, _form_utils.errorDisplay)($loginForm, errors); // Display server errors.\n        authSectionBlocker.stop();\n    });\n}\n\n//# sourceURL=webpack:////opt/mvfx/src/mvfx_frontend/public/authentication/login_form.js?");

/***/ }),

/***/ "../../src/mvfx_frontend/public/authentication/password_recovery_form.js":
/*!***********************************************************************************!*\
  !*** /opt/mvfx/src/mvfx_frontend/public/authentication/password_recovery_form.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar _form_utils = __webpack_require__(/*! ../shared/form_utils/form_utils */ \"../../src/mvfx_frontend/public/shared/form_utils/form_utils.js\");\n\nvar _auth_sections_switch = __webpack_require__(/*! ./auth_sections_switch */ \"../../src/mvfx_frontend/public/authentication/auth_sections_switch.js\");\n\n/**\n * PASSWORD RECOVERY FORM\n * ======================\n * Manages password recovery form submit and validation errors.\n */\n\n$(document).ready(function () {\n\n    var $passRecoveryForm = $('#passRecoveryForm');\n    var authSectionBlocker = $('#authFormsContainer').data('motionvfx.uiBlocker');\n\n    $passRecoveryForm.on('submit', function (event) {\n        event.preventDefault();\n        submitForm($(event.target).serializeArray()); // Get form data.\n    });\n\n    /**\n     * POST form data to API.\n     * @param {array} formData List of form fields.\n     */\n    function submitForm(formData) {\n\n        authSectionBlocker.start();\n\n        $.post($passRecoveryForm[0].action, formData).done(function () {\n            (0, _auth_sections_switch.setCurrentSection)('recoveryEmailSent'); // Display account activation link send confirmation message.  \n            $passRecoveryForm[0].reset(); // Reset the form.\n        }).fail(function (errorResponse) {\n            return (0, _form_utils.errorDisplay)($passRecoveryForm, errorResponse.responseJSON);\n        }) // Display server errors.;\n        .always(function () {\n            return authSectionBlocker.stop();\n        });\n    }\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"../../../../node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:////opt/mvfx/src/mvfx_frontend/public/authentication/password_recovery_form.js?");

/***/ }),

/***/ "../../src/mvfx_frontend/public/authentication/sign_up_form.js":
/*!*************************************************************************!*\
  !*** /opt/mvfx/src/mvfx_frontend/public/authentication/sign_up_form.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.signUpFormInit = signUpFormInit;\n\nvar _jquery = __webpack_require__(/*! jquery */ \"../../../../node_modules/jquery/dist/jquery.js-exposed\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _form_utils = __webpack_require__(/*! ../shared/form_utils/form_utils */ \"../../src/mvfx_frontend/public/shared/form_utils/form_utils.js\");\n\nvar _auth_sections_switch = __webpack_require__(/*! ./auth_sections_switch */ \"../../src/mvfx_frontend/public/authentication/auth_sections_switch.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * SIGN UP FORM\n * ==========\n * Manages sign up form submit and validation errors.\n */\n\n/* istanbul ignore next */\n(0, _jquery2.default)(document).ready(function () {\n    signUpFormInit();\n});\n\nvar $signUpForm = void 0;\nvar authSectionBlocker = void 0;\n\nfunction signUpFormInit() {\n    $signUpForm = (0, _jquery2.default)('#signUpForm');\n    authSectionBlocker = (0, _jquery2.default)('#authFormsContainer').data('motionvfx.uiBlocker');\n\n    $signUpForm.on('submit', function (event) {\n        event.preventDefault();\n\n        // Prevent multiple submitions in case user presses enter key multiple times.\n        if ((0, _jquery2.default)('#authFormsContainer').hasClass('ui-blocker-active')) {\n            return;\n        }\n\n        submitForm((0, _jquery2.default)(event.target).serializeArray()); // Get form data.\n    });\n}\n\n//////////////// Private Functions ///////////////////////\n\n/**\n * POST form data to API.\n * @param {array} formData List of form fields.\n */\nfunction submitForm(formData) {\n\n    authSectionBlocker.start();\n\n    _jquery2.default.post($signUpForm[0].action, formData).done(function () {\n        (0, _auth_sections_switch.setCurrentSection)('activationEmailSent'); // Display confirmation message.\n        $signUpForm[0].reset(); // Reset the form.                \n    }).fail(function (errorResponse) {\n        var errors = errorResponse.responseJSON;\n\n        (0, _form_utils.errorDisplay)($signUpForm, errors); // Display server errors.\n    }).always(function () {\n        return authSectionBlocker.stop();\n    });\n}\n\n//# sourceURL=webpack:////opt/mvfx/src/mvfx_frontend/public/authentication/sign_up_form.js?");

/***/ }),

/***/ "../../src/mvfx_frontend/public/shared/body_scroll_toggler/body_scroll_toggler.js":
/*!********************************************************************************************!*\
  !*** /opt/mvfx/src/mvfx_frontend/public/shared/body_scroll_toggler/body_scroll_toggler.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.disableBodyScroll = disableBodyScroll;\nexports.enableBodyScroll = enableBodyScroll;\n\n__webpack_require__(/*! jquery */ \"../../../../node_modules/jquery/dist/jquery.js-exposed\");\n\nvar _helper_utils = __webpack_require__(/*! ../../../shared/helper_utils/helper_utils */ \"../../src/mvfx_frontend/shared/helper_utils/helper_utils.js\");\n\n/**\n * Disables/enables scrolling of the body element on touch devices.\n * Useful for preventing scrolling the background when user tries to scroll something in the foreground.\n */\n\n/**\n * Disable background scrolling. Only for touch devices.\n */\nfunction disableBodyScroll() {\n    if ((0, _helper_utils.isTouchDevice)()) {\n        $('body').addClass('no-scroll');\n    }\n}\n\n/**\n * Enable background scrolling in case it was disabled for touch devices.\n */\nfunction enableBodyScroll() {\n    if ((0, _helper_utils.isTouchDevice)()) {\n        $('body').removeClass('no-scroll');\n    }\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"../../../../node_modules/jquery/dist/jquery.js-exposed\")))\n\n//# sourceURL=webpack:////opt/mvfx/src/mvfx_frontend/public/shared/body_scroll_toggler/body_scroll_toggler.js?");

/***/ })

},[["../../src/mvfx_frontend/public/authentication/index.js","runtime","commons"]]]);